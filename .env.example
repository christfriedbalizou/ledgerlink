# Plaid Link configuration
PLAID_CLIENT_NAME="LedgerLink"
PLAID_PRODUCTS="auth,transactions"
PLAID_COUNTRY_CODES="US"
PLAID_LANGUAGE="en"
# ----------------------------------------------
# APP CONFIGURATION
# ----------------------------------------------
# Port the Express server will listen on
APP_PORT=3000
# Node environment (development, production, test)
NODE_ENV=test
# The base URL where the app is hosted (no trailing slash)
BASE_URL="http://localhost:3000" # e.g. http://localhost:3000 or https://mydomain.com
# Enable actual syncing of transactions (set to false for testing/dev to avoid hitting rate limits)
ENABLE_ACTUAL=false # Set to true to enable actual syncing

# ----------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------
# The format for this will vary based on your ORM (Prisma/TypeORM)
DATABASE_PROVIDER="sqlite" # or "postgresql", "mysql", etc.
DATABASE_URL="file:./ledgerlink.db" # Example for SQLite
# When running with Docker Compose, you must use the service name 'db' 
# in the URL *inside* the container, which is set in docker-compose.yml.
# For local dev/testing, use localhost/127.0.0.1 here.

# ----------------------------------------------
# AUTHENTICATION CONFIGURATION
# ----------------------------------------------
# Used for encrypting session cookies. Must be long and random.
SESSION_SECRET="a_very_long_and_secure_random_string_replace_this"

# OIDC/OAuth2 Client Credentials
OIDC_CLIENT_ID="your_oidc_client_id"
OIDC_CLIENT_SECRET="your_oidc_client_secret"
OIDC_ISSUER_URL="https://your.auth.server.com" 
OIDC_CALLBACK_URL="http://localhost:3000/auth/callback"

# ----------------------------------------------
# PLAID/ACCOUNT LINKING CONFIGURATION
# ----------------------------------------------
# PLAID_CLIENT_ID="your_plaid_client_id"
# PLAID_SECRET="your_plaid_secret"
# PLAID_ENCRYPTION_KEY="your_plaid_encryption_key_must_be_32_characters"
PLAID_CLIENT_NAME="LedgerLink"
PLAID_PRODUCTS="transactions"
PLAID_COUNTRY_CODES="GB"
PLAID_LANGUAGE="en"
PLAID_ENV="sandbox" # or "development", "production"

# ----------------------------------------------
# LIMIT CONFIGURATION
# ----------------------------------------------
# Maximum number of distinct institutions a user can link (default 2 if unset)
MAX_INSTITUTIONS_PER_USER=2
# Maximum number of accounts per institution per user (default 1 if unset)
MAX_ACCOUNTS_PER_INSTITUTION=1
# (Deprecated) Kept for backward compatibility. If set and new vars unset, it will be used.
# MAX_ACCOUNTS_PER_USER=2